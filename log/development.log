  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateFeeds (20171103073854)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "feeds" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feed_type" varchar, "user_id" integer, "image_file_name" varchar, "exif" varchar(1000), "comment" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20171103073854"]]
  [1m[35m (2.3ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateFriends (20171103073856)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "friends" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "from_user_id" integer, "to_user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20171103073856"]]
  [1m[35m (2.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateUsers (20171103073857)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "login_id" varchar, "name" varchar, "pass" varchar, "icon_file_name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20171103073857"]]
  [1m[35m (4.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateAnswers (20180125073854)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (8.0ms)[0m  [1m[35mCREATE TABLE "answers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "feed_id" integer, "user_id" integer, "reply" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180125073854"]]
  [1m[35m (2.5ms)[0m  [1m[36mcommit transaction[0m
Migrating to RenameAnswersToReplies (20180129073555)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (8.3ms)[0m  [1m[35mALTER TABLE "answers" RENAME TO "replies"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20180129073555"]]
  [1m[35m (4.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (3.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-04-25 02:02:45.626533"], ["updated_at", "2018-04-25 02:02:45.626533"]]
  [1m[35m (2.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/users" for 127.0.0.1 at 2018-04-25 11:08:41 +0900
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#create as */*
  Parameters: {"login_id"=>"aaaa", "name"=>"aaaa", "pass"=>"aaaa", "icon_file_name"=>""}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."login_id" = ? LIMIT ?[0m  [["login_id", "aaaa"], ["LIMIT", 1]]
  [1m[35mSQL (3.3ms)[0m  [1m[32mINSERT INTO "users" ("login_id", "name", "pass", "icon_file_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["login_id", "aaaa"], ["name", "aaaa"], ["pass", "61be55a8e2f6b4e172338bddf184d6dbee29c98853e0a0485ecee7f27b9af0b4"], ["icon_file_name", ""], ["created_at", "2018-04-25 02:08:42.237238"], ["updated_at", "2018-04-25 02:08:42.237238"]]
  [1m[35m (3.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (login_id = 'aaaa') LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."login_id" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["login_id", "aaaa"], ["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (3.5ms)[0m  [1m[33mUPDATE "users" SET "icon_file_name" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["icon_file_name", "presets/6.png"], ["updated_at", "2018-04-25 02:08:42.253380"], ["id", 1]]
  [1m[35m (2.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 68ms (Views: 0.2ms | ActiveRecord: 15.7ms)


Started GET "/feeds" for 127.0.0.1 at 2018-04-25 11:08:42 +0900
Started GET "/users/1/icon" for 127.0.0.1 at 2018-04-25 11:08:42 +0900
Processing by UsersController#icon as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering text template
  Rendered text template (0.0ms)
Sent data  (7.4ms)
Completed 200 OK in 32ms (Views: 7.1ms | ActiveRecord: 0.9ms)


Processing by FeedsController#index as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/friends" for 127.0.0.1 at 2018-04-25 11:08:42 +0900
Processing by FriendsController#index as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "friends" ON "users"."id" = "friends"."to_user_id" WHERE "friends"."from_user_id" = ?[0m  [["from_user_id", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "friends" ON "users"."id" = "friends"."from_user_id" WHERE "friends"."to_user_id" = ?[0m  [["to_user_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "friends" ON "users"."id" = "friends"."to_user_id" WHERE "friends"."from_user_id" = ?[0m  [["from_user_id", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "friends" ON "users"."id" = "friends"."from_user_id" WHERE "friends"."to_user_id" = ?[0m  [["to_user_id", 1]]
Completed 200 OK in 61ms (Views: 0.2ms | ActiveRecord: 1.9ms)


  [1m[36mFeed Load (0.7ms)[0m  [1m[34mSELECT  feeds.*,users.name FROM "feeds" INNER JOIN "users" ON "users"."id" = "feeds"."user_id" WHERE "feeds"."user_id" = 1 ORDER BY id DESC LIMIT ?[0m  [["LIMIT", 30]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  feeds.*,users.name AS count_column FROM "feeds" INNER JOIN "users" ON "users"."id" = "feeds"."user_id" WHERE "feeds"."user_id" = 1 ORDER BY id DESC LIMIT ?) subquery_for_count[0m  [["LIMIT", 30]]
  [1m[36mReply Load (1.5ms)[0m  [1m[34mSELECT replies.*,users.name FROM "replies" INNER JOIN "users" ON "users"."id" = "replies"."user_id" WHERE 1=0 ORDER BY updated_at ASC[0m
Completed 200 OK in 142ms (Views: 2.5ms | ActiveRecord: 4.4ms)


Started GET "/cable" for 127.0.0.1 at 2018-04-25 11:08:42 +0900
Started GET "/cable/" [WebSocket] for 127.0.0.1 at 2018-04-25 11:08:42 +0900
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ChatChannel is transmitting the subscription confirmation
ChatChannel is streaming from notification_channel_1
Started POST "/feeds" for 127.0.0.1 at 2018-04-25 11:08:46 +0900
Processing by FeedsController#create as */*
  Parameters: {"comment"=>"aaaa", "feed_type"=>"text"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (4.3ms)[0m  [1m[32mINSERT INTO "feeds" ("feed_type", "user_id", "comment", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["feed_type", "text"], ["user_id", 1], ["comment", "aaaa"], ["created_at", "2018-04-25 02:08:46.024371"], ["updated_at", "2018-04-25 02:08:46.024371"]]
  [1m[35m (2.8ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 27ms (Views: 0.2ms | ActiveRecord: 7.9ms)


Started GET "/feeds" for 127.0.0.1 at 2018-04-25 11:08:46 +0900
Processing by FeedsController#index as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "friends" ON "users"."id" = "friends"."to_user_id" WHERE "friends"."from_user_id" = ?[0m  [["from_user_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "friends" ON "users"."id" = "friends"."from_user_id" WHERE "friends"."to_user_id" = ?[0m  [["to_user_id", 1]]
  [1m[36mFeed Load (0.2ms)[0m  [1m[34mSELECT  feeds.*,users.name FROM "feeds" INNER JOIN "users" ON "users"."id" = "feeds"."user_id" WHERE "feeds"."user_id" = 1 ORDER BY id DESC LIMIT ?[0m  [["LIMIT", 30]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  feeds.*,users.name AS count_column FROM "feeds" INNER JOIN "users" ON "users"."id" = "feeds"."user_id" WHERE "feeds"."user_id" = 1 ORDER BY id DESC LIMIT ?) subquery_for_count[0m  [["LIMIT", 30]]
  [1m[36mReply Load (0.5ms)[0m  [1m[34mSELECT replies.*,users.name FROM "replies" INNER JOIN "users" ON "users"."id" = "replies"."user_id" WHERE "replies"."feed_id" = 1 ORDER BY updated_at ASC[0m
Completed 200 OK in 10ms (Views: 2.4ms | ActiveRecord: 1.7ms)


Started GET "/feeds/1/find_old" for 127.0.0.1 at 2018-04-25 11:08:47 +0900
Processing by FeedsController#find_old as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "friends" ON "users"."id" = "friends"."to_user_id" WHERE "friends"."from_user_id" = ?[0m  [["from_user_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "friends" ON "users"."id" = "friends"."from_user_id" WHERE "friends"."to_user_id" = ?[0m  [["to_user_id", 1]]
  [1m[36mFeed Load (0.3ms)[0m  [1m[34mSELECT  feeds.*,users.name FROM "feeds" INNER JOIN "users" ON "users"."id" = "feeds"."user_id" WHERE "feeds"."user_id" = 1 AND (feeds.id < 1) ORDER BY id DESC LIMIT ?[0m  [["LIMIT", 30]]
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.8ms)


Started POST "/replies" for 127.0.0.1 at 2018-04-25 11:08:48 +0900
Processing by RepliesController#create as */*
  Parameters: {"reply"=>"fasd", "feed_id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mFeed Load (0.3ms)[0m  [1m[34mSELECT  "feeds".* FROM "feeds" WHERE "feeds"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (4.6ms)[0m  [1m[32mINSERT INTO "replies" ("feed_id", "user_id", "reply", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["feed_id", 1], ["user_id", 1], ["reply", "fasd"], ["created_at", "2018-04-25 02:08:48.026106"], ["updated_at", "2018-04-25 02:08:48.026106"]]
  [1m[35m (2.8ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 22ms (ActiveRecord: 8.5ms)


Started GET "/feeds" for 127.0.0.1 at 2018-04-25 11:08:48 +0900
Processing by FeedsController#index as */*
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "friends" ON "users"."id" = "friends"."to_user_id" WHERE "friends"."from_user_id" = ?[0m  [["from_user_id", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "friends" ON "users"."id" = "friends"."from_user_id" WHERE "friends"."to_user_id" = ?[0m  [["to_user_id", 1]]
  [1m[36mFeed Load (0.3ms)[0m  [1m[34mSELECT  feeds.*,users.name FROM "feeds" INNER JOIN "users" ON "users"."id" = "feeds"."user_id" WHERE "feeds"."user_id" = 1 ORDER BY id DESC LIMIT ?[0m  [["LIMIT", 30]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(count_column) FROM (SELECT  feeds.*,users.name AS count_column FROM "feeds" INNER JOIN "users" ON "users"."id" = "feeds"."user_id" WHERE "feeds"."user_id" = 1 ORDER BY id DESC LIMIT ?) subquery_for_count[0m  [["LIMIT", 30]]
  [1m[36mReply Load (0.2ms)[0m  [1m[34mSELECT replies.*,users.name FROM "replies" INNER JOIN "users" ON "users"."id" = "replies"."user_id" WHERE "replies"."feed_id" = 1 ORDER BY updated_at ASC[0m
Completed 200 OK in 14ms (Views: 1.5ms | ActiveRecord: 2.3ms)


Started GET "/feeds/1/find_old" for 127.0.0.1 at 2018-04-25 11:08:49 +0900
Processing by FeedsController#find_old as */*
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "friends" ON "users"."id" = "friends"."to_user_id" WHERE "friends"."from_user_id" = ?[0m  [["from_user_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "users"."id" FROM "users" INNER JOIN "friends" ON "users"."id" = "friends"."from_user_id" WHERE "friends"."to_user_id" = ?[0m  [["to_user_id", 1]]
  [1m[36mFeed Load (0.2ms)[0m  [1m[34mSELECT  feeds.*,users.name FROM "feeds" INNER JOIN "users" ON "users"."id" = "feeds"."user_id" WHERE "feeds"."user_id" = 1 AND (feeds.id < 1) ORDER BY id DESC LIMIT ?[0m  [["LIMIT", 30]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.7ms)


